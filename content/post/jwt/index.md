---
title: JWTã£ã¦ãªã«ï¼Ÿ
description: 
slug: jwt
date: 2022-06-26 00:00:00+0000
image: who-are-you.jpg
categories:
    - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
tags:
    - JWT
---

ã“ã‚“ã«ã¡ã¯ðŸ   
å…ˆæ—¥JWTã‚’ä½¿ã†æ©Ÿä¼šãŒã‚ã‚Šã¾ã—ãŸã®ã§ã€ã“ã“ã«ã¾ã¨ã‚ã¦ãŠãã¾ã™ã€‚  
***
### JWTã¨ã¯ä½•ã‹
JSON Web Token (JWT)ã¨ã¯ã€æƒ…å ±ã‚’JSONã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦å®‰å…¨ã«é€å—ä¿¡ã§ãã‚‹ãƒˆãƒ¼ã‚¯ãƒ³ã®ä»•æ§˜ã®ã“ã¨ã§ã™ã€‚[RFC 7519](https://datatracker.ietf.org/doc/html/rfc7519)ã¨ã—ã¦æ¨™æº–åŒ–ã•ã‚Œã¦ã„ã¾ã™ã€‚  

### JWTã®ã„ã„ã¨ã“ã‚
JWTã‚’ä½¿ã†ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã¾ã™ã€‚
- é€šä¿¡ã®ç›¸æ‰‹ã‚’**èªè¨¼**ã—ãŸä¸Šã§æƒ…å ±ã‚’å—ã‘æ¸¡ã›ã‚‹ã€‚  
ï¼ˆé€šä¿¡ã®ç›¸æ‰‹ãŒèª°ã§ã€æƒ…å ±ã‚’æ¸¡ã—ã¦ã‚‚è‰¯ã„æ¨©é™ã‚’æŒã£ã¦ã„ã‚‹ã‹ã‚’ç¢ºèªï¼‰
- å—ã‘æ¸¡ã—ãŸæƒ…å ±ãŒã€æ­£ã—ã„ç™ºä¿¡è€…ã‹ã‚‰æ­£ã—ã„å—ä¿¡è€…ã«å‘ã‘ã¦é€ã‚‰ã‚ŒãŸã‚‚ã®ã§ã‚ã‚‹ã“ã¨ãŒç¢ºèªã§ãã‚‹ã€‚
-  å—ã‘æ¸¡ã—ãŸæƒ…å ±ãŒã€æ”¹ã–ã‚“ã•ã‚Œã¦ã„ãªã„ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚

### JWTã®æ§‹é€ 
jwtã¯ã€`ãƒ˜ãƒƒãƒ€ãƒ¼`.`ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰`.`ç½²å`ã®3ã¤ã®è¦ç´ ã‹ã‚‰æ§‹æˆã•ã‚Œã¾ã™ã€‚  
>- ãƒ˜ãƒƒãƒ€ãƒ¼  
ç½²åã®æš—å·åŒ–ã«ä½¿ç”¨ã—ãŸã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨ã€ãƒˆãƒ¼ã‚¯ãƒ³ã®ã‚¿ã‚¤ãƒ—ãŒè¨˜ã•ã‚Œã¦ã„ã‚‹ã€‚ãƒ˜ãƒƒãƒ€ãƒ¼è‡ªä½“ã¯Base64urlã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã‚‹ã€‚  
 (ä¾‹ â€»ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰å‰)  
  `{"alg": "HS256","typ": "JWT"}`  
 (ä¾‹ â€»ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰å¾Œ)  
  `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9`  

>- ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰  
å—ã‘æ¸¡ã™æƒ…å ±ã‚’ã“ã“ã«æ ¼ç´ã™ã‚‹ã€‚ä¾‹ãˆã°ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æŒã¤IDã‚„ã€æ¨©é™ã®æœ‰åŠ¹æœŸé™ãƒ»ç™ºè¡Œå…ƒãªã©ã®ã€èªè¨¼ã™ã‚‹ãŸã‚ã«å¿…è¦ãªæƒ…å ±ã‚’æ ¼ç´ã€‚Registered claimsã¨å‘¼ã°ã‚Œã‚‹é …ç›®ã‚’å«ã‚ã‚‹ã“ã¨ãŒæŽ¨å¥¨ã•ã‚Œã¦ã„ã‚‹ã€‚ã“ã‚Œã«ã¯ã€"iss"(Issuer/ç™ºè¡Œå…ƒ)ã‚„"iat"(Issued At/ç™ºè¡Œæ™‚é–“)ã€"exp"(Expiration Time/æœ‰åŠ¹æœŸé™)ãªã©ãŒã‚ã‚‹ã€‚
[è©³ç´°ã¯ã“ã¡ã‚‰](https://datatracker.ietf.org/doc/html/rfc7519#section-4.1)  
ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰è‡ªä½“ã¯Base64urlã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã‚‹ã€‚  
(ä¾‹ â€»ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰å‰)  
`{"sub": "1234567890","name": "John Doe","iat": 1516239022}`  
(ä¾‹ â€»ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰å¾Œ)  
`eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ`

>- ç½²å  
ç½²åã¯ã€ã€Œã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸãƒ˜ãƒƒãƒ€ãƒ¼ã€ã¨ã€ã€Œã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã€ã¨ã€æŒ‡å®šã—ãŸã€Œã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã€ã‚’ã‚‚ã¨ã«ã€ãƒ˜ãƒƒãƒ€ãƒ¼ã§æŒ‡å®šã—ãŸã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ä½¿ã£ã¦ä½œæˆã•ã‚Œã¾ã™ã€‚  
 (ä¾‹) `c5jf1lMwbhnCncTmgX5BvO3v4PPEPst9i1smEH1S6Rc`  
ç½²åã‚’ä½¿ã£ã¦ã€JWTãŒæ”¹ã–ã‚“ã•ã‚Œã¦ã„ãªã„ã“ã¨ã‚’ç¢ºèªã§ãã¾ã™ã€‚  
(ç­†è€…ãƒ¡ãƒ¢ï¼šå…·ä½“çš„ã«ã©ã®ã‚ˆã†ãªæ–¹æ³•ã§ç¢ºèªã™ã‚‹ã®ã‹èª¿ã¹ãã‚Œã¦ã„ãªã„ã®ã§ã€ä»Šå¾Œè¿½è¨˜ã—ãŸã„ã€‚)

### JWTã‚’ç”Ÿæˆã—ã¦ã¿ã‚‹
[jwt.io](https://jwt.io/)ã¨ã„ã†ã‚µã‚¤ãƒˆã«ã¯ã€JWTã®ãƒ‡ãƒãƒƒã‚¬ãƒ¼ãŒã‚ã‚Šã¾ã™ã€‚  
å³å´ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã‚„ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã®å†…å®¹ã‚’å¤‰ãˆã‚‹ã¨ã€å·¦å´ã®JWTã‚‚å¤‰åŒ–ã™ã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã™ã€‚  
![](jwt.png)

### ä»Šå¾Œã¾ã¨ã‚ãŸã„ã“ã¨
ä»Šå›žã¯JWTã¨ã¯ã©ã‚“ãªã‚‚ã®ã‹ã«ã¤ã„ã¦ã¾ã¨ã‚ã¾ã—ãŸã€‚  
å…·ä½“çš„ãªä½¿ã„æ–¹ã‚„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¨ã®é•ã„ã«ã¤ã„ã¦ã¾ã¨ã‚ã‚‰ã‚Œãªã‹ã£ãŸã®ã§ã€ä»Šå¾Œåˆ¥ã®è¨˜äº‹ã§ã¾ã¨ã‚ãŸã„ã¨æ€ã„ã¾ã™ã€‚

### å‚è€ƒãƒªãƒ³ã‚¯
>- [jwt.io](https://jwt.io/)
>- [RFC 7519](https://datatracker.ietf.org/doc/html/rfc7519)  
>â€»ä»¥ä¸‹ã€ä»Šå¾Œã®è¨˜äº‹ã§å‚è€ƒã«ã—ãŸã„ãƒªãƒ³ã‚¯
>- [ãã‚‚ãã‚‚JWTã«é–¢ã™ã‚‹ç§ã®ç†è§£ã¯å®Œå…¨ã«é–“é•ã£ã¦ã„ãŸï¼ -  koduki.hatenablog.com](https://koduki.hatenablog.com/entry/2019/11/03/163014)  
>- [JWT authentication: Best practices and when to use it  -  blog.logrocket.com](https://blog.logrocket.com/jwt-authentication-best-practices/)